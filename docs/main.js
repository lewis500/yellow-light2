(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(19),l=a(254),c=a(259),i=a(3),s=a(253),m=a(11),u=a(47);var d,p,x,f={width:3,height:1.2},h=8,y=95,g=75,E=3.4,v=18,b=21,O=3.5,w=.6,j=.75,k=a(257),S=a(258),A=a(12),C=a.n(A),T={},N=Object(S.a)({road:{fill:i.a.grey[200],stroke:"none"},svg:{display:"inline-block","& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}},text:{textAlign:"center",fontSize:"12px",fontFamily:"Puritan, sans-serif"},car:{fill:i.a.lightBlue[500]},xssd:{stroke:i.a.green.A400,strokeWidth:"2px"}}),P=87.5,L=Object(k.a)().range([0,700]).domain([g,g-y]),R={green:i.a.green[400],red:i.a.red.A200,yellow:i.a.yellow[700]},W=L(0),_=W-L(h),D=W-L(f.width),z=W-L(f.height),M=_/2,B=Object(r.createElement)("g",{},Object(r.createElement)("rect",{height:_,width:700,x:0,y:P-M,stroke:"none",fill:i.a.grey[200]}),Object(r.createElement)("rect",{height:175,width:_,x:W,y:0,stroke:"none",fill:i.a.grey[200]})),Y=function(e){var t=e.x,a=e.y,n=e.violation;return Object(r.createElement)("rect",{width:D,height:z,fill:n?i.a.red.A400:i.a.lightBlue.A400,y:P+a-4,x:t-D})},F=function(e){var t=e.color;return Object(r.createElement)("line",{x1:W,x2:W,y1:P-M,y2:P+M,strokeWidth:6,stroke:t})},I=(d=Object(r.createElement)("line",{x1:0,x2:0,y1:0,y2:M-10,stroke:i.a.grey[500],strokeWidth:"2px"}),p=Object(r.createElement)("line",{x1:0,x2:0,y1:M+11,y2:_,stroke:i.a.grey[500],strokeWidth:"2px"}),x=n.a.createElement("foreignObject",{width:"30",height:"30",y:M-11,x:"-7"},n.a.createElement(C.a,{math:"x_0"})),function(e){var t=e.x;return n.a.createElement("g",{transform:"translate(".concat(t,",").concat(P-M,")")},d,p,x)}),X=function(){var e=n.a.createElement("foreignObject",{width:"40",height:"50",x:"-8",y:"2"},n.a.createElement(C.a,null,"x_{\\text{ssd}} "));return function(t){var a=t.x,o=t.classes;return n.a.createElement("g",{transform:"translate(".concat(a,",").concat(P+M+3,")")},a>45&&n.a.createElement("foreignObject",{width:"40",height:"45",x:-a/2-20,y:6},n.a.createElement("div",{className:o.text},"CAN STOP")),n.a.createElement("foreignObject",{width:"40",height:"45",x:(W-a)/2-20,y:6},n.a.createElement("div",{className:o.text},"CAN'T STOP")),e,Object(r.createElement)("line",{markerStart:"url(#arrow)",stroke:i.a.blue[400],strokeWidth:2,x2:-a,x1:0}),Object(r.createElement)("line",{markerStart:"url(#arrow3)",markerEnd:"url(#arrow3)",stroke:i.a.grey[400],strokeWidth:2,strokeDasharray:"2 2",x2:W-a,x1:0}))}}(),H=function(){var e=n.a.createElement("foreignObject",{width:"30",height:"30",x:"-8",y:"-30"},n.a.createElement(C.a,null,"x_{\\text{cl}} "));return function(t){var a=t.x,o=t.classes;return n.a.createElement("g",{transform:"translate(".concat(a,",").concat(P-M-3,")")},e,n.a.createElement("foreignObject",{width:"45",height:"45",x:W/2-a/2-20,y:-35},n.a.createElement("div",{className:o.text},"CAN CLEAR")),n.a.createElement("foreignObject",{width:"45",height:"45",x:-a/2-20,y:-35},n.a.createElement("div",{className:o.text},"CAN'T CLEAR")),Object(r.createElement)("line",{markerEnd:"url(#arrow2)",markerStart:"url(#arrow2)",stroke:i.a.deepOrange.A400,strokeWidth:2,x2:0,x1:W-a}),Object(r.createElement)("line",{markerEnd:"url(#arrow3)",stroke:i.a.grey[400],strokeWidth:2,strokeDasharray:"2,2",x2:0,x1:-a}))}}(),G=function(e){var t=e.mover,a=e.stopper,r=e.x0,o=e.lightColor,l=e.xssd,c=e.xcl,s=N(T);return n.a.createElement("svg",{width:700,height:175,className:s.svg},n.a.createElement("defs",null,n.a.createElement("marker",{id:"arrow",viewBox:"0 0 15 15",refY:"5",refX:"8",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",fill:i.a.blue[400]},n.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"})),n.a.createElement("marker",{id:"arrow2",viewBox:"0 0 15 15",refY:"5",refX:"8",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",fill:i.a.deepOrange.A400},n.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"})),n.a.createElement("marker",{id:"arrow3",viewBox:"0 0 15 15",refY:"5",refX:"8",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",fill:i.a.grey[400]},n.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"}))),n.a.createElement("g",null,B,n.a.createElement(I,{x:L(r),classes:s}),n.a.createElement(X,{x:L(l),classes:s}),n.a.createElement(H,{x:L(c),classes:s}),n.a.createElement(F,{color:R[o],classes:s}),n.a.createElement(Y,{x:L(t.x),y:-15,violation:t.x<-1&&r>c}),n.a.createElement(Y,{x:L(a.x),y:15,violation:a.x<-1})))},J=a(2),K=a(35),V=a(26);function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(a,!0).forEach((function(t){q(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Q={play:!1,v0:v,x0:.75*g,stopper:{x:g,v:v},mover:{x:g,v:v},time:0,useState:2,yellow:2.5},$=function(e,t,a,r){var n=e.x,o=e.v,l=t.payload,c=l.xssd,i=l.dt;return n<Math.min(c,r)-a*j?{v:Math.max(o-E*i,0),x:Math.min(n-o*i+.5*E*i*i,n)}:{v:o,x:n-o*i}},ee=function(e,t){switch(t.type){case"TICK":var a=t.payload.dt,r=e.mover,n=e.stopper,o=e.v0,l=e.x0;return Z({},e,{time:e.time+a,mover:{v:r.v,x:r.x-r.v*a},stopper:$(n,t,o,l)});case"SET_X0":return Z({},e,{x0:t.payload});case"SET_PLAY":return Z({},e,{play:t.payload});case"SET_YELLOW":return Z({},e,{yellow:t.payload});case"SET_V0":return Z({},e,{v0:t.payload});case"RESTART":return Z({},e,{mover:{v:e.v0,x:g},time:0,stopper:{v:e.v0,x:g}});case"DRAG":return Z({},e,{v0:t.payload.v0,x0:t.payload.x0});case"RESET":return Z({},e,{play:!1,time:0,mover:{v:e.v0,x:g},stopper:{v:e.v0,x:g}});default:return e}},te=n.a.createContext({state:Q,dispatch:null}),ae=Object(V.a)((function(e){return e*j+e*e/2/E})),re=Object(V.a)((function(e,t){return-f.width+e*t})),ne=a(46),oe=(a(63),10),le=40,ce=40,ie=10,se=Object(S.a)({svg:{width:400+ce+ie,height:800/3+oe+le,"& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}},math:{fontSize:"12px"},dot:{stroke:"white",strokeWidth:3,fill:i.a.pink[500],cursor:"pointer"},xssd:{fill:"none",strokeWidth:2,stroke:i.a.blue.A400},xcl:{fill:"none",strokeWidth:2,stroke:i.a.deepOrange.A400},hidden:{fill:"white",opacity:0}}),me=Object(k.a)().domain([0,g]).range([800/3,0]),ue=Object(k.a)().domain([0,b]).range([0,400]),de=Object(K.b)(me),pe=Object(K.a)(ue),xe=Object(V.a)((function(e,t){return"translate(".concat(e,",").concat(t,")")})),fe=Array.apply(null,{length:50}).map((function(e,t){return t})),he="M"+fe.map((function(e){return[ue(e),me(j*e+e*e/2/E)]})).join("L"),ye=Object(V.a)((function(e){return"M"+fe.map((function(t){return[ue(t),me(-f.width+t*e)]})).join("L")})),ge=function(){var e=se({}),t=Object(r.useRef)(),a=Object(r.useRef)(),o=(Object(r.useRef)(),Object(r.useRef)()),l=Object(r.useContext)(te),c=l.state,i=l.dispatch,s=c.v0,m=c.x0,u=Object(r.useRef)(i);return Object(r.useLayoutEffect)((function(){Object(J.d)(t.current).call(de),Object(J.d)(a.current).call(pe);var e=Object(ne.a)().on("drag",(function(){u.current({type:"DRAG",payload:{x0:me.invert(J.b.y),v0:ue.invert(J.b.x)}})}));Object(J.d)(o.current).call(e)}),[]),n.a.createElement("svg",{className:e.svg},n.a.createElement("g",{transform:xe(ce,oe)},n.a.createElement("mask",{id:"myMask"},n.a.createElement("rect",{width:400,height:800/3,fill:"white"})),n.a.createElement("rect",{className:e.hidden,width:400,height:800/3}),n.a.createElement("g",{ref:t}),n.a.createElement("g",{ref:a,transform:xe(0,800/3)}),n.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(".concat(10,",",0,")")},n.a.createElement("span",{className:e.math},n.a.createElement(C.a,{math:"x \\; \\text{(m)}"}))),n.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(".concat(355,",").concat(800/3-20,")")},n.a.createElement("span",{className:e.math},n.a.createElement(C.a,{math:"v \\; \\text{(m/s)}"}))),n.a.createElement("path",{d:he,className:e.xssd,mask:"url(#myMask)"}),n.a.createElement("path",{d:ye(c.yellow),className:e.xcl,mask:"url(#myMask)"}),n.a.createElement("circle",{ref:o,className:e.dot,r:"6",transform:"translate(".concat(ue(s),",").concat(me(m),")")})))};function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done)&&(a.push(l.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ve,be,Oe,we,je=Object(S.a)({"@global":{body:{margin:"0 !important",padding:"0 !important",fontFamily:" 'Puritan', sans-serif"}},main:{color:i.a.grey[800],margin:"0 auto",boxSizing:"border-box",display:"flex",flexDirection:"row",justifyContent:"center"},red:{fill:i.a.red.A400},paper:{maxWidth:"500px",margin:"auto",display:"flex",padding:"24px 36px",flexDirection:"column"},button:{},visContainer:{display:"flex",flexDirection:"column",alignItems:"center",paddingRight:"30px"},sliderContainer:{width:"300px",padding:"20px",boxSizing:"border-box"},title:{backgroundColor:i.a.lightBlue.A700,color:"white",width:"100%",height:"70px",display:"flex",fontFamily:"Helvetica",boxShadow:" 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",marginBottom:"25px",alignItems:"center",padding:"5px 30px",fontSize:"22px",boxSizing:"border-box","& a":{color:"white",textDecoration:"none"},"& a:hover":{color:i.a.pink[100],cursor:"pointer"}}}),ke=(ve=Object(m.a)((function(e){return{root:{color:e.palette.primary.main,marginBottom:"15px"}}}))(c.a),be=n.a.createElement(s.a,{variant:"body1"},n.a.createElement(C.a,{math:"x_0"})," (position when light turns green → yellow)"),Oe=n.a.createElement(s.a,{variant:"body1"},n.a.createElement(C.a,{math:"v_0"})," (speed when light changes green → yellow)"),we=n.a.createElement(s.a,{variant:"body1"},n.a.createElement(C.a,{math:"t_y"})," (yellow light duration)"),function(){var e=Object(r.useContext)(te),t=e.state,a=e.dispatch,o=t.x0,l=t.v0,c=t.yellow;return n.a.createElement(n.a.Fragment,null,be,n.a.createElement(ve,{onChange:function(e,t){return a({type:"SET_X0",payload:t})},value:o,step:.02,min:0,max:g}),Oe,n.a.createElement(ve,{onChange:function(e,t){return a({type:"SET_V0",payload:t})},value:l,step:.1,min:0,max:b}),we,n.a.createElement(ve,{onChange:function(e,t){return a({type:"SET_YELLOW",payload:t})},value:c,step:.1,min:0,max:O}))}),Se={},Ae=function(){var e=Object(r.useContext)(te),t=e.state,a=e.dispatch,o=t.x0,c=t.v0,i=t.stopper,s=t.mover,m=t.time,d=t.play,p=t.yellow,x=je(Se),f=ae(c),h=re(c,p);return function(e,t){var a=Object(r.useRef)(0);a.current=e,Object(r.useLayoutEffect)((function(){if(t){var e=0,r=Object(u.a)((function(t){var r=(t-e)/1e3;e=t,a.current&&a.current(r)}));return function(){return r.stop()}}}),[t])}((function(e){e/=w,s.x>g-y||i.v>0?a({type:"TICK",payload:{dt:e,xssd:f}}):setTimeout((function(){a({type:"RESTART"})}),0)}),d),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:x.title},n.a.createElement("div",null,"Construction Zone")),n.a.createElement("div",{className:x.main},n.a.createElement("div",{className:x.visContainer},n.a.createElement("div",{style:{marginBottom:"30px"}},G({mover:s,stopper:i,xcl:h,x0:o,lightColor:m<(g-o)/c?"green":m-(g-o)/c<p?"yellow":"red",xssd:f})),n.a.createElement(ge,null)),n.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},n.a.createElement(ke,null),n.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"}},n.a.createElement(l.a,{className:x.button,variant:"contained",color:"secondary",onClick:function(){return a({type:"SET_PLAY",payload:!d})}},d?"PAUSE":"PLAY"),n.a.createElement(l.a,{className:x.button,variant:"contained",color:"secondary",component:"div",onClick:function(){a({type:"RESET"})}},"Reset")),n.a.createElement("div",null))))},Ce=a(256),Te=a(45),Ne=a(43),Pe=a.n(Ne),Le=a(44),Re=a.n(Le),We=document.getElementById("root");if(!We)throw Error("no root container");var _e=Object(Te.a)({palette:{primary:{main:Pe.a[500]},secondary:{main:Re.a[500]}}});Object(o.render)(n.a.createElement(Ce.a,{theme:_e},n.a.createElement((function(){var e=Ee(Object(r.useReducer)(ee,Q),2),t=e[0],a=e[1];return n.a.createElement(te.Provider,{value:{state:t,dispatch:a}},n.a.createElement(Ae,null))}),null)),We)}},[[131,1,2]]]);