(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{144:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(13),o=a(267),c=a(271),i=a(4),s=a(266),m=a(15),u=a(54);var d,x,h,f={width:3,height:1.2},p=8,y=95,E=75,g=3.4,v=18,b=21,w=3.5,O=.6,j=.75,k=a(30),S=a(270),A=a(12),C=a.n(A),T={},N=Object(S.a)({road:{fill:i.a.grey[200],stroke:"none"},svg:{display:"inline-block","& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}},text:{textAlign:"center",fontSize:"12px",fontFamily:"Puritan, sans-serif"},car:{fill:i.a.lightBlue[500]},xssd:{stroke:i.a.green.A400,strokeWidth:"2px"}}),L=87.5,R=Object(k.a)().range([0,700]).domain([E,E-y]),W={green:i.a.green[400],red:i.a.red.A200,yellow:i.a.yellow[700]},P=R(0),_=P-R(p),z=P-R(f.width),M=P-R(f.height),B=_/2,D=Object(r.createElement)("g",{},Object(r.createElement)("rect",{height:_,width:700,x:0,y:L-B,stroke:"none",fill:i.a.grey[200]}),Object(r.createElement)("rect",{height:175,width:_,x:P,y:0,stroke:"none",fill:i.a.grey[200]})),Y=function(e){var t=e.x,a=e.y,n=e.violation;return Object(r.createElement)("rect",{width:z,height:M,fill:n?i.a.red.A400:i.a.lightBlue.A400,y:L+a-4,x:t-z})},F=function(e){var t=e.color;return Object(r.createElement)("line",{x1:P,x2:P,y1:L-B,y2:L+B,strokeWidth:6,stroke:t})},I=(d=Object(r.createElement)("line",{x1:0,x2:0,y1:0,y2:B-10,stroke:i.a.grey[500],strokeWidth:"2px"}),x=Object(r.createElement)("line",{x1:0,x2:0,y1:B+11,y2:_,stroke:i.a.grey[500],strokeWidth:"2px"}),h=n.a.createElement("foreignObject",{width:"30",height:"30",y:B-11,x:"-7"},n.a.createElement(C.a,{math:"x_0"})),function(e){var t=e.x;return n.a.createElement("g",{transform:"translate(".concat(t,",").concat(L-B,")")},d,x,h)}),X=function(){var e=n.a.createElement("foreignObject",{width:"40",height:"50",x:"-8",y:"2"},n.a.createElement(C.a,null,"x_{\\text{ssd}} "));return function(t){var a=t.x,l=t.classes;return n.a.createElement("g",{transform:"translate(".concat(a,",").concat(L+B+3,")")},a>45&&n.a.createElement("foreignObject",{width:"40",height:"45",x:-a/2-20,y:6},n.a.createElement("div",{className:l.text},"CAN STOP")),n.a.createElement("foreignObject",{width:"40",height:"45",x:(P-a)/2-20,y:6},n.a.createElement("div",{className:l.text},"CAN'T STOP")),e,Object(r.createElement)("line",{markerStart:"url(#arrow)",stroke:i.a.blue[400],strokeWidth:2,x2:-a,x1:0}),Object(r.createElement)("line",{markerStart:"url(#arrow3)",markerEnd:"url(#arrow3)",stroke:i.a.grey[400],strokeWidth:2,strokeDasharray:"2 2",x2:P-a,x1:0}))}}(),H=function(){var e=n.a.createElement("foreignObject",{width:"30",height:"30",x:"-8",y:"-30"},n.a.createElement(C.a,null,"x_{\\text{cl}} "));return function(t){var a=t.x,l=t.classes;return n.a.createElement("g",{transform:"translate(".concat(a,",").concat(L-B-3,")")},e,n.a.createElement("foreignObject",{width:"45",height:"45",x:P/2-a/2-20,y:-35},n.a.createElement("div",{className:l.text},"CAN CLEAR")),n.a.createElement("foreignObject",{width:"45",height:"45",x:-a/2-20,y:-35},n.a.createElement("div",{className:l.text},"CAN'T CLEAR")),Object(r.createElement)("line",{markerEnd:"url(#arrow2)",markerStart:"url(#arrow2)",stroke:i.a.deepOrange.A400,strokeWidth:2,x2:0,x1:P-a}),Object(r.createElement)("line",{markerEnd:"url(#arrow3)",stroke:i.a.grey[400],strokeWidth:2,strokeDasharray:"2,2",x2:0,x1:-a}))}}(),G=function(e){var t=e.mover,a=e.stopper,r=e.x0,l=e.lightColor,o=e.xssd,c=e.xcl,s=N(T);return n.a.createElement("svg",{width:700,height:175,className:s.svg},n.a.createElement("defs",null,n.a.createElement("marker",{id:"arrow",viewBox:"0 0 15 15",refY:"5",refX:"8",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",fill:i.a.blue[400]},n.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"})),n.a.createElement("marker",{id:"arrow2",viewBox:"0 0 15 15",refY:"5",refX:"8",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",fill:i.a.deepOrange.A400},n.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"})),n.a.createElement("marker",{id:"arrow3",viewBox:"0 0 15 15",refY:"5",refX:"8",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",fill:i.a.grey[400]},n.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"}))),n.a.createElement("g",null,D,n.a.createElement(I,{x:R(r),classes:s}),n.a.createElement(X,{x:R(o),classes:s}),n.a.createElement(H,{x:R(c),classes:s}),n.a.createElement(F,{color:W[l],classes:s}),n.a.createElement(Y,{x:R(t.x),y:-15,violation:t.x<-1&&r>c}),n.a.createElement(Y,{x:R(a.x),y:15,violation:a.x<-1})))},J=a(2),K=a(38),V=a(25);function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){Z(e,t,a[t])})}return e}function Z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var q={play:!1,v0:v,x0:.75*E,stopper:{x:E,v:v},mover:{x:E,v:v},time:0,useState:2,yellow:2.5},Q=function(e,t,a,r){var n=e.x,l=e.v,o=t.payload,c=o.xssd,i=o.dt;return n<Math.min(c,r)-a*j?{v:Math.max(l-g*i,0),x:Math.min(n-l*i+.5*g*i*i,n)}:{v:l,x:n-l*i}},$=function(e,t){switch(t.type){case"TICK":var a=t.payload.dt,r=e.mover,n=e.stopper,l=e.v0,o=e.x0;return U({},e,{time:e.time+a,mover:{v:r.v,x:r.x-r.v*a},stopper:Q(n,t,l,o)});case"SET_X0":return U({},e,{x0:t.payload});case"SET_PLAY":return U({},e,{play:t.payload});case"SET_YELLOW":return U({},e,{yellow:t.payload});case"SET_V0":return U({},e,{v0:t.payload});case"RESTART":return U({},e,{mover:{v:e.v0,x:E},time:0,stopper:{v:e.v0,x:E}});case"DRAG":return U({},e,{v0:t.payload.v0,x0:t.payload.x0});case"RESET":return U({},e,{play:!1,time:0,mover:{v:e.v0,x:E},stopper:{v:e.v0,x:E}});default:return e}},ee=n.a.createContext({state:q,dispatch:null}),te=Object(V.a)(function(e){return e*j+e*e/2/g}),ae=Object(V.a)(function(e,t){return-f.width+e*t}),re=a(53),ne=(a(68),10),le=40,oe=40,ce=10,ie=Object(S.a)({svg:{width:400+oe+ce,height:800/3+ne+le,"& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}},math:{fontSize:"12px"},dot:{stroke:"white",strokeWidth:3,fill:i.a.pink[500],cursor:"pointer"},xssd:{fill:"none",strokeWidth:2,stroke:i.a.blue.A400},xcl:{fill:"none",strokeWidth:2,stroke:i.a.deepOrange.A400},hidden:{fill:"white",opacity:0}}),se=Object(k.a)().domain([0,E]).range([800/3,0]),me=Object(k.a)().domain([0,b]).range([0,400]),ue=Object(K.b)(se),de=Object(K.a)(me),xe=Object(V.a)(function(e,t){return"translate(".concat(e,",").concat(t,")")}),he=Array.apply(null,{length:50}).map(function(e,t){return t}),fe="M"+he.map(function(e){return[me(e),se(j*e+e*e/2/g)]}).join("L"),pe=Object(V.a)(function(e){return"M"+he.map(function(t){return[me(t),se(-f.width+t*e)]}).join("L")}),ye=function(){var e=ie({}),t=Object(r.useRef)(),a=Object(r.useRef)(),l=(Object(r.useRef)(),Object(r.useRef)()),o=Object(r.useContext)(ee),c=o.state,i=o.dispatch,s=c.v0,m=c.x0,u=Object(r.useRef)(i);return Object(r.useLayoutEffect)(function(){Object(J.d)(t.current).call(ue),Object(J.d)(a.current).call(de);var e=Object(re.a)().on("drag",function(){u.current({type:"DRAG",payload:{x0:se.invert(J.b.y),v0:me.invert(J.b.x)}})});Object(J.d)(l.current).call(e)},[]),n.a.createElement("svg",{className:e.svg},n.a.createElement("g",{transform:xe(oe,ne)},n.a.createElement("mask",{id:"myMask"},n.a.createElement("rect",{width:400,height:800/3,fill:"white"})),n.a.createElement("rect",{className:e.hidden,width:400,height:800/3}),n.a.createElement("g",{ref:t}),n.a.createElement("g",{ref:a,transform:xe(0,800/3)}),n.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(".concat(10,",",0,")")},n.a.createElement("span",{className:e.math},n.a.createElement(C.a,{math:"x \\; \\text{(m)}"}))),n.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(".concat(355,",").concat(800/3-20,")")},n.a.createElement("span",{className:e.math},n.a.createElement(C.a,{math:"v \\; \\text{(m/s)}"}))),n.a.createElement("path",{d:fe,className:e.xssd,mask:"url(#myMask)"}),n.a.createElement("path",{d:pe(c.yellow),className:e.xcl,mask:"url(#myMask)"}),n.a.createElement("circle",{ref:l,className:e.dot,r:"6",transform:"translate(".concat(me(s),",").concat(se(m),")")})))};function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw l}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ge,ve,be,we,Oe=Object(S.a)({"@global":{body:{margin:"0 !important",padding:"0 !important",fontFamily:" 'Puritan', sans-serif"}},main:{color:i.a.grey[800],margin:"0 auto",boxSizing:"border-box",display:"flex",flexDirection:"row",justifyContent:"center"},red:{fill:i.a.red.A400},paper:{maxWidth:"500px",margin:"auto",display:"flex",padding:"24px 36px",flexDirection:"column"},button:{},visContainer:{display:"flex",flexDirection:"column",alignItems:"center",paddingRight:"30px"},sliderContainer:{width:"300px",padding:"20px",boxSizing:"border-box"},title:{backgroundColor:i.a.lightBlue.A700,color:"white",width:"100%",height:"70px",display:"flex",fontFamily:"Helvetica",boxShadow:" 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",marginBottom:"25px",alignItems:"center",padding:"5px 30px",fontSize:"22px",boxSizing:"border-box","& a":{color:"white",textDecoration:"none"},"& a:hover":{color:i.a.pink[100],cursor:"pointer"}}}),je=(ge=Object(m.a)(function(e){return{root:{color:e.palette.primary.main,marginBottom:"15px"}}})(c.a),ve=n.a.createElement(s.a,{variant:"body1"},n.a.createElement(C.a,{math:"x_0"})," (position when light turns green → yellow)"),be=n.a.createElement(s.a,{variant:"body1"},n.a.createElement(C.a,{math:"v_0"})," (speed when light changes green → yellow)"),we=n.a.createElement(s.a,{variant:"body1"},n.a.createElement(C.a,{math:"t_y"})," (yellow light duration)"),function(){var e=Object(r.useContext)(ee),t=e.state,a=e.dispatch,l=t.x0,o=t.v0,c=t.yellow;return n.a.createElement(n.a.Fragment,null,ve,n.a.createElement(ge,{onChange:function(e,t){return a({type:"SET_X0",payload:t})},value:l,step:.02,min:0,max:E}),be,n.a.createElement(ge,{onChange:function(e,t){return a({type:"SET_V0",payload:t})},value:o,step:.1,min:0,max:b}),we,n.a.createElement(ge,{onChange:function(e,t){return a({type:"SET_YELLOW",payload:t})},value:c,step:.1,min:0,max:w}))}),ke={},Se=function(){var e=Object(r.useContext)(ee),t=e.state,a=e.dispatch,l=t.x0,c=t.v0,i=t.stopper,s=t.mover,m=t.time,d=t.play,x=t.yellow,h=Oe(ke),f=te(c),p=ae(c,x);return function(e,t){var a=Object(r.useRef)(0);a.current=e,Object(r.useLayoutEffect)(function(){if(t){var e=0,r=Object(u.a)(function(t){var r=(t-e)/1e3;e=t,a.current&&a.current(r)});return function(){return r.stop()}}},[t])}(function(e){e/=O,s.x>E-y||i.v>0?a({type:"TICK",payload:{dt:e,xssd:f}}):setTimeout(function(){a({type:"RESTART"})},0)},d),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:h.title},n.a.createElement("div",null,"Construction Zone")),n.a.createElement("div",{className:h.main},n.a.createElement("div",{className:h.visContainer},n.a.createElement("div",{style:{marginBottom:"30px"}},G({mover:s,stopper:i,xcl:p,x0:l,lightColor:m<(E-l)/c?"green":m-(E-l)/c<x?"yellow":"red",xssd:f})),n.a.createElement(ye,null)),n.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},n.a.createElement(je,null),n.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"}},n.a.createElement(o.a,{className:h.button,variant:"contained",color:"secondary",onClick:function(){return a({type:"SET_PLAY",payload:!d})}},d?"PAUSE":"PLAY"),n.a.createElement(o.a,{className:h.button,variant:"contained",color:"secondary",component:"div",onClick:function(){a({type:"RESET"})}},"Reset")),n.a.createElement("div",null))))},Ae=a(269),Ce=a(52),Te=a(50),Ne=a.n(Te),Le=a(51),Re=a.n(Le),We=document.getElementById("root");if(!We)throw Error("no root container");var Pe=Object(Ce.a)({palette:{primary:{main:Ne.a[500]},secondary:{main:Re.a[500]}}});Object(l.render)(n.a.createElement(Ae.a,{theme:Pe},n.a.createElement(function(){var e=Ee(Object(r.useReducer)($,q),2),t=e[0],a=e[1];return n.a.createElement(ee.Provider,{value:{state:t,dispatch:a}},n.a.createElement(Se,null))},null)),We)}},[[144,1,2]]]);